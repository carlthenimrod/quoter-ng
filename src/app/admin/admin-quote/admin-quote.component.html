<section id="quote" *ngIf="quote">
  <header class="bg-light border-bottom">
    <div class="container">
      <div class="row justify-content-center pb-4">
        <div class="col-12">
            <h1 class="mt-4">Quote Details</h1>
    
            <hr>
    
            <p><strong>From:</strong></p>
    
            <p>{{ quote.email }}</p>
    
            <p><strong>Description:</strong></p>
    
            <p>{{ quote.description }}</p>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div id="latest" class="row justify-content-center py-4">
        <div class="col-12">
          <h3 *ngIf="latestAdminComment || latestUserComment">
            Latest Messages
          </h3>
      
          <hr>

          <div *ngIf="latestComment === 'user'">
            <comment 
              [comment]="latestUserComment" 
              [me]="latestUserComment.admin"
            >
            </comment>
          </div>

          <div *ngIf="latestComment === 'admin'">
            <comment 
              [comment]="latestAdminComment" 
              [me]="latestAdminComment.admin"
              [editable]="true"
              [removable]="true"
            >
            </comment>

            <comment 
              [comment]="latestUserComment" 
              [me]="latestUserComment.admin"
            >
            </comment>
          </div>
  
          <form *ngIf="!latestAdminComment" #f="ngForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
              <textarea 
                name="reply" 
                id="reply" 
                class="form-control" 
                rows="8" 
                placeholder="Enter Reply..."
                required
                minlength="100"
                [(ngModel)]="comment.message"
              ></textarea>
              
              <div class="invalid-feedback">
                Reply must be at least 100 characters.
              </div>
            </div>
        
            <button 
              type="submit" 
              class="btn btn-primary btn-lg float-right"
              [disabled]="!f.form.valid"
            >
            Submit Reply</button>
          </form>
        </div>
    </div>
  
    <div class="row justify-content-center pb-4">
      <div class="col-12">
        <h3>Chat History</h3>
  
        <hr>
  
        <div *ngFor="let comment of quote.comments">
          <comment 
            [comment]="comment" 
            [me]="comment.admin" 
            [size]="'sm'"
          >
          </comment>
        </div>
      </div>
    </div>
  </div>
</section>